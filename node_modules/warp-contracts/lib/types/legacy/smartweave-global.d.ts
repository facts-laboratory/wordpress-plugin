import Arweave from 'arweave';
import { EvaluationOptions } from '../core/modules/StateEvaluator';
import { GQLNodeInterface, GQLTagInterface, VrfData } from './gqlResult';
import { BatchDBOp, SortKeyCache } from '../cache/SortKeyCache';
/**
 *
 * This class is exposed as a global for contracts
 * as 'SmartWeave' and provides an API for getting further
 * information or using utility and crypto functions from
 * inside the contracts execution.
 *
 * It provides an api:
 *
 * - SmartWeave.transaction.id
 * - SmartWeave.transaction.reward
 * - SmartWeave.block.height
 * - SmartWeave.block.timestamp
 * - etc
 *
 * and access to some of the arweave utils:
 * - SmartWeave.arweave.utils
 * - SmartWeave.arweave.crypto
 * - SmartWeave.arweave.wallets
 * - SmartWeave.arweave.ar
 *
 * as well as access to the potentially non-deterministic full client:
 * - SmartWeave.unsafeClient
 *
 */
export declare class SmartWeaveGlobal {
    gasUsed: number;
    gasLimit: number;
    transaction: Transaction;
    block: Block;
    vrf: Vrf;
    evaluationOptions: EvaluationOptions;
    arweave: Pick<Arweave, 'ar' | 'wallets' | 'utils' | 'crypto'>;
    contract: {
        id: string;
        owner: string;
    };
    unsafeClient: Arweave;
    contracts: {
        readContractState: (contractId: string) => Promise<any>;
        viewContractState: (contractId: string, input: any) => Promise<any>;
        write: (contractId: string, input: any) => Promise<any>;
        refreshState: () => Promise<any>;
    };
    extensions: any;
    _activeTx?: GQLNodeInterface;
    caller?: string;
    kv: KV;
    constructor(arweave: Arweave, contract: {
        id: string;
        owner: string;
    }, evaluationOptions: EvaluationOptions, storage: SortKeyCache<any> | null);
    useGas(gas: number): void;
    getBalance(address: string, height?: number): Promise<string>;
}
declare class Transaction {
    private readonly smartWeaveGlobal;
    constructor(smartWeaveGlobal: SmartWeaveGlobal);
    get id(): string;
    get owner(): string;
    get target(): string;
    get tags(): GQLTagInterface[];
    get sortKey(): string;
    get dryRun(): boolean;
    get quantity(): string;
    get reward(): string;
}
declare class Block {
    private readonly smartWeaveGlobal;
    constructor(smartWeaveGlobal: SmartWeaveGlobal);
    get height(): number;
    get indep_hash(): string;
    get timestamp(): number;
}
declare class Vrf {
    private readonly smartWeaveGlobal;
    constructor(smartWeaveGlobal: SmartWeaveGlobal);
    get data(): VrfData;
    get value(): string;
    randomInt(maxValue: number): number;
}
export declare class KV {
    private readonly _storage;
    private readonly _transaction;
    private _kvBatch;
    constructor(_storage: SortKeyCache<any> | null, _transaction: Transaction);
    put(key: string, value: any): Promise<void>;
    get<V>(key: string): Promise<V | null>;
    commit(): Promise<void>;
    rollback(): void;
    ops(): BatchDBOp<any>[];
    open(): Promise<void>;
    close(): Promise<void>;
    private checkStorageAvailable;
}
export {};
//# sourceMappingURL=smartweave-global.d.ts.map